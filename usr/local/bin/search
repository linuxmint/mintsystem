#!/bin/bash

function usage
{
    echo "usage: search [arguments] [options]"
    echo "arguments:"
    echo "         for text"
    echo "         in directory"
    echo "options:"
    echo "         -c | --case-sensitive"
    echo "         -s | --show-filenames-only"	   
}

directory=/
case=i
verbose=H

case "$1" in
	for | -f | --for )
		shift
		text="$1"
		;;
	-h | --help | * )
		usage
		exit 1
		;;
esac

case "$2" in
	in | --in | -i )
		shift
		directory="$2"
		;;
	* )
		usage
		exit 1
		;;
esac

case "$3" in
	-c | --case-sensitive )
		case=
		;;
	-s | --show-filenames-only )
		verbose=l
		;;
esac

find $directory -type f -exec grep -$case$verbose "$text" --color=auto -n {} \; 
